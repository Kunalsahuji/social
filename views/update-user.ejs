<%- include('partials/header')%>

  <div class="flex rounded-xl w-[100%] pt-[1%] m-auto">

    <div class="w-[50%] m-auto rounded-xl mr-5">
      <div class="w-full pt-[3%] m-auto p-5 flex">

        <form class="formImage hidden" action="/image/<%=user._id %>" method="post" enctype="multipart/form-data">
          <input class="inputImage" type="file" name="profilePic">
        </form>
        <div class="flex m-auto justify-center items-center">
          <div class="m-auto">
            <img class="previewImage w-[10vh] h-[10vh] rounded-full object-cover border border-gray-950  m-auto"
              src="/images/<%= user.profilePic %>" alt="profilePic">
          </div>

          <div class="w-[20%] m-auto ml-7">
            <h1 class="text-2xl font-extrabold text-purple-400 m-auto ">
              <%= user.name%>
            </h1>
            <h2 class="mt-3 font-bold text-purple-400 ">
              @<%= user.username %>
            </h2>
          </div>

        </div>
      </div>
      <h1 class="w-[40%] text-2xl m-auto text-center text-purple-400 font-bold">
        Profile Setting
      </h1>
      <form action="/update-user/<%= user._id%>" class=" mt-[3%] text-center" method="post">
        <input class="w-[50%] mb-10  border border-zinc-500 p-3 rounded-md text-xl " type="text" placeholder="full name"
          value="<%= user.name%>" name="name">
        <br>
        <input class="w-[50%] mb-10  border border-zinc-500 p-3 rounded-md text-xl " type="text" placeholder="username"
          value="<%= user.username%>" name="username">
        <br>
        <input class="w-[50%] mb-10  border border-zinc-500 p-3 rounded-md text-xl " type="email"
          placeholder="email@servive.provider" name="email" value="<%= user.email%>">
        <br>

        <button
          class="mt-5 text-center block w-[50%] m-auto hover:bg-purple-600 rounded text-white py-3 px-5 bg-purple-400">Update
          User Details</button>
      </form>
    </div>

    <div class="w-[25%] h-[10%] bg-gray-200 text-center border rounded-full px-5">
      <h1 class="rounded-xl text-2xl font-extrabold text-red-400 mt-5 underline">
        Profile Setting
      </h1>

      <div class=" flex flex-col justify-between mt-5 h-full">
        <div class="flex flex-col">
          <a class="text-red-400 mb-3 font-bold hover:text-red-600 border border-zinc-950 rounded-full w-[50%] m-auto"
            href="/reset-password/<%= user._id%>">Reset
            Password</a>
          <a class="text-red-400 mb-3 font-bold hover:text-red-600 border border-zinc-950 rounded-full w-[50%] m-auto"
            href="/delete-user/<%= user._id%>">Delete
            Profile</a>

        </div>
        <a class="text-red-400 mb-3 font-bold hover:text-red-600 border border-zinc-950 rounded-full w-[50%] m-auto"
          href="/logout-user/<%= user._id%>">Logout</a>
      </div>
    </div>

  </div>
  <!--  -->

  <script>
    const inputImage = document.querySelector(".inputImage")
    const previewImage = document.querySelector(".previewImage")
    const formImage = document.querySelector(".formImage")

    previewImage.addEventListener("click", () => {
      inputImage.click()
    })

    inputImage.addEventListener("change", () => {
      formImage.submit()
    })

  </script>
  <%- include('partials/footer')%>