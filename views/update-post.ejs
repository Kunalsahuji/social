<%- include('partials/header') %>

    <div class="w-[55%]  rounded-xl m-auto">
        <div class="w-[100%] pt-[3%] m-auto p-5 flex">

            <!-- <form class="postImage hidden" action="/image/<%=user._id %>" method="post" enctype="multipart/form-data">
                <input class="inputPostImage" type="file" name="profilePic">
            </form> -->
            <div class="flex m-auto justify-center items-center">
                <div class="m-auto">
                    <img class=" w-[10vh] h-[10vh] rounded-full object-cover border border-gray-950  m-auto"
                        src="/images/<%= user.profilePic %>" alt="profilePic">
                </div>

                <div class="w-[45%] m-auto ml-10 ">
                    <h1 class="text-2xl font-extrabold text-purple-400 m-auto ">
                        <%= user.name%>
                    </h1>
                    <h2 class="mt-3 font-bold text-purple-400 ">
                        @<%= user.username %>
                    </h2>
                </div>

            </div>
        </div>
        <h1 class="w-[40%] text-2xl m-auto text-center text-purple-400 font-bold">
            Update Post
        </h1>
        <form class="postImage hidden" action="/post-image/<%=post._id %>" method="post" enctype="multipart/form-data">
            <input class="inputPostImage" type="file" name="media">
        </form>
        <form action="/update-post/<%= post._id%>" class=" mt-[3%] text-center" method="post">
            <div class="m-auto">
                <img class="previewPostImage w-[25vh] h-[25vh] rounded-2xl object-cover  m-auto"
                    src="/images/<%=post.media %>" alt="postImage">
                <br> <br>
                <input class="w-[30%] mb-10 border border-zinc-500 p-3 rounded-xl text-xl" type="text" name="title"
                    placeholder="Enter Post Title" value="<%= post.title %>">
                <br> <br>
            </div>

            <button
                class="mt-5 text-center block w-[50%] m-auto hover:bg-purple-600 rounded text-white py-3 px-5 bg-purple-400">Update
                Post</button>
        </form>
    </div>

    <script>
        const inputPostImage = document.querySelector(".inputPostImage")
        const previewPostImage = document.querySelector(".previewPostImage")
        const postImage = document.querySelector(".postImage")

        previewPostImage.addEventListener("click", () => {
            inputPostImage.click()
        })

        inputPostImage.addEventListener("change", () => {
            postImage.submit()
        })

    </script>

    <%- include('partials/footer') %>